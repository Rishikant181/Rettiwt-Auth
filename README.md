# Rettiwt-Auth

A library for authenticating against Twitter API

## Prerequisites

-   NodeJS 20.9.0

## Installation

The package is intended to be installed globally.

-   For installation via npm, use the command: `npm install -g rettiwt-auth`
-   For installation via yarn, use the command: `yarn global add rettiwt-auth`

## Types of authentication

The following are the two types of authentcation methods available, with each method providing access to different set of resources:

1. **Guest Authentication**, with which, the following resources can be accessed:
    - Tweet Details
    - User Details
    - User Tweets
    - User Tweets and Replies
2. **User Authentication**, with which, the following resources can be accessed:
    - Tweet Details
    - Tweet Likes
    - Tweet Retweets
    - Tweet Search
    - User Details
    - User Followers
    - User Following
    - User Likes
    - User Tweets
    - User Tweets and Replies

## Getting started

This package is intended to be used for authenticating [Rettiwt-API](https://www.npmjs.com/package/rettiwt-api) for fetching data from Twitter. To login and generate the API key:

1.  Install the package globally by following the steps in the 'Installation' section.
2.  Open a commandline/shell and use the command:  
    `login <email> <username> <password>`

    Where,

    -   \<email\> is the email to the Twitter account.
    -   \<username\> is the username associated with the Twitter account.
    -   \<password\> is the password to the Twitter account.

3.  Store the generated API key in a safe spot (preferably environment variable) for later use.

## Usage with third party tools

Sometimes, you might want to use other third party scripts/tools for fetching data from Twitter, instead of [Rettiwt-API](https://www.npmjs.com/package/rettiwt-api). In that case, the authentication credentials can be generated by using the library functions provided in this package:

-   Authenticating as a guest user

    ```
    import { Auth } from 'rettiwt-auth';

    new Auth().getGuestCredential().then(credential => {
        ...
    })
    ```

    Where,

    -   credential is the generated guest credential.

-   Authenticating as a logged-in user

    ```
    import { Auth } from 'rettiwt-auth';

    new Auth().getUserCredential({
        email: 'account_email',
        userName: 'account_username',
        password: 'account_password
    }).then(credential => {
        ...
    })
    ```

    Where,

    -   account_email is the email id associated with your Twitter account.
    -   account_username is the username associated with your Twitter account.
    -   account_password is the password to your Twitter account.
    -   credential is the generated user credential.

After the credentials have been generated using any one of the two methods given above,

1.  Use the [toHeader()](https://rishikant181.github.io/Rettiwt-Auth/classes/AuthCredential.html#toHeader) method on the returned credential, which converts the credential into HTTP headers.
2.  Add the returned HTTP headers to the headers of the requests made to Twitter API.

## Credential Validity

When you generate the API key/authentication credentials, either using the CLI or via library function,

-   The generated API key/authentication credentials are valid for a duration of 1 year, starting from the day of generation.
-   As such, it is suggested to generated the API key/authentication creadentials once, then store them in a safe place (such as in an environment variable or a JSON file).

    **Notes:**

    -   Repeated logins might trigger Twitter's anti-bot measures and you might be required to verify yourself as human by logging in from the browser, before being able to use the package again.
    -   Therefore make sure to always generate the API key/authentication credentials only once and use it till it expires, before generating a new API key/authentication credential.

-   Whenever it is required to authenticate against Twitter API, use the stored API key/authentication credentials.

## API Reference

The complete API reference can be found [this](https://rishikant181.github.io/Rettiwt-Auth/) page
